<!DOCTYPE html>
<!--
    Copyright (c) 2012-2014 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" /><!-- Include jQuery Mobile stylesheets -->
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">

        <!-- Include the jQuery library -->
        <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>

        <!-- Include the jQuery Mobile library -->
        <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
        <title>Hello World</title>
    </head>
    <body>
        <!-- <div class="app">
            <h1>PhoneGap</h1>
            <div id="deviceready" class="blink">
                <p class="event listening">Connecting to Device</p>
                <p class="event received">Device is a Nacho</p>
            </div>
        </div> -->
        <div data-role="page" id="index">
            <div data-role="header">
                <h1> It's NachoTime </h1>
            </div>
            <div data-role="main" class="ui-content">
                <a href="#movies" data-transition="fade"> 
                    <div class="category" id="category-movies">
                        <img class="category-icon" src="img/icon movie.png" alt="movie" style="height: 100%;"/>
                        Films
                    </div>
                </a>
                <a href="#series" data-transition="flow"> 
                    <div class="category" id="category-series">
                        <img class="category-icon" src="img/icon series.png" alt="movie" style="height: 100%;"/>
                        Series
                    </div>
                </a>
                <a href="#cartoons" data-transition="pop">
                    <div class="category" id="category-cartoon">
                        <img class="category-icon" src="img/icon cartoons.png" alt="movie" style="height: 100%;"/>
                        Tekenfilms
                    </div>
                </a>
            </div>
        </div>

        <div data-role="page" id="movies">
            <div data-role="header">
                <h1>NachoTime Movies</h1>
             </div>

             <div data-role="main" class="ui-content">
                <ul data-role="listview" data-autodividers="true" id="movie-list">
                </ul>
            </div>
        </div>
        <div data-role="page" id="series">
            <div data-role="header">
                <h1>NachoTime Series</h1>
            </div>

            <div data-role="main" class="ui-content">
                <ul data-role="listview" data-autodividers="true" id="serie-list">
                </ul>
            </div>
        </div>
        <div data-role="page" id="cartoons">
            <div data-role="header">
                <h1>NachoTime Cartoons</h1>
            </div>

            <div data-role="main" class="ui-content">
                <ul data-role="listview" data-autodividers="true" id="cartoon-list">
                </ul>
            </div>
        </div>

        <div data-role="page" id="details">
            <div data-role="header">
                <h1>NachoTime</h1>
             </div>

             <div data-role="main" class="ui-content">
                <table data-role="table" data-mode="columntoggle" class="ui-responsive" id="detailsTable">
                    <thead>
                        <tr>
                            <th colspan="2" style="text-align: center" id="title"> XXX </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr> 
                            <td id='key1'> Key2 </td>
                            <td id='value1'> Value2 </td>
                        </tr>
                        <tr> 
                            <td id="key2"> Key3 </td>
                            <td id='value2'> Value3 </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
        <script>
            var movies = {
                "movie1": {
                    "title": "Harry Potter and the Philosopher's stone",
                    "year": "2002",
                    "country": "England"
                },
                "movie2": {
                    "title": "Harry Potter and the Chamber of Secrets",
                    "year": "2004",
                    "country": "England"
                },
                "movie3": {
                    "title": "Harry Potter and the Prisoner of Azkaban",
                    "year": "2005",
                    "country": "England"
                }
            };
            $.each(movies, function(key, value) {
                $("#movie-list").append("<li class='details' id=" + key + "> <a href='#details'>" + value['title'] + "</a> </li>");
            });
            var series = {
                "serie1": {
                    "title": "Dance Moms",
                    "status": "running",
                    "seasons": "5"
                },
                "serie2": {
                    "title": "Make It Or Break It",
                    "status": "cancelled",
                    "seasons": "4"
                },
                "serie3": {
                    "title": "Glee",
                    "status": "running",
                    "seasons": "6"
                }
            };
            $.each(series, function(key, value) {
                $("#serie-list").append("<li class='details' id=" + key + "> <a href='#details'>" + value['title'] + "</a> </li>");
            });
            var cartoons = {
                "cartoon1": {
                    "title": "Spongebob Squarepants",
                    "network": "nickelodeon",
                    "description": "Describes the life of a sponge who lives in a pineapple"
                },
                "cartoon2": {
                    "title": "Lucky Luke",
                    "network": "ketnet",
                    "description": "Describes the life of a cowboy"
                },
                "cartoon3": {
                    "title": "Southpark",
                    "network": "Cartoon Network",
                    "description": "Revolves around 4 weird friends"
                }
            };
            $.each(cartoons, function(key, value) {
                $("#cartoon-list").append("<li class='details' id=" + key + "> <a href='#details'>" + value['title'] + "</a> </li>");
            });
            var clicked;
            function loadDetails(clicked) {
                var counter = 0;
                for (key in clicked) {
                    if (counter === 0) {
                        $('#title').text(clicked['title']);
                    } else {
                        var searchkey = '#key' + counter;
                        var searchvalue = '#value' + counter;
                        $(searchkey).text(key);
                        $(searchvalue).text(clicked[key]);
                    }
                    counter++;
                }
                
            };

            $("#cartoon-list").on("click", '.details a', function(e) {
                var el = e.currentTarget;
                var id = $(el).parent().attr('id')
                var clicked = cartoons[id];
                loadDetails(clicked);
            });
            $("#movie-list").on("click", '.details a', function(e) {
                var el = e.currentTarget;
                var id = $(el).parent().attr('id')
                var clicked = movies[id];
                loadDetails(clicked);
            });
            $("#serie-list").on("click", '.details a', function(e) {
                var el = e.currentTarget;
                var id = $(el).parent().attr('id')
                var clicked = series[id];
                loadDetails(clicked);
            });
            
        </script>
    </body>
</html>
